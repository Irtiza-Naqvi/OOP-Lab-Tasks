#include <iostream>
#include <string>
using namespace std;

class Car {
    string regNumber;
    string brand;
    string model;
    double rprice;
    bool available;
    double revenue;

public:
    Car() : regNumber("Unknown"), brand("Unknown"), model("Generic"), rprice(0.0), available(true), revenue(0.0) {}

    Car(string reg, string c, string d, double z, bool k) 
        : regNumber(reg), brand(c), model(d), rprice(z), available(k), revenue(0.0) {}

    Car(const Car &other) 
        : regNumber(other.regNumber), brand(other.brand), model(other.model),
          rprice(other.rprice), available(other.available), revenue(other.revenue) {
        cout << "Copy constructor called: A new car object has been created as a copy." << endl;
    }

    ~Car() {
        cout << "Destructor called: Car with Reg# " << regNumber << " is being deleted." << endl;
    }

    void displayAllDetails() {
        cout << "---------- Car Details ----------" << endl;
        cout << "Registration Number: " << regNumber << endl;
        cout << "Brand Name: " << brand << endl;
        cout << "Model: " << model << endl;
        cout << "Rental Price: " << rprice << endl;
        cout << "Availability: " << (available ? "Yes" : "No") << endl;
        cout << "Total Revenue: " << revenue << endl;
    }

    void updateDetails(string a, string b, float x, bool y) {
        brand = a;
        model = b;
        rprice = x;
        available = y;
    }

    void rentalRequest() {
        if (available) {
            cout << "Car available for rent." << endl;
        } else {
            cout << "Car is not available." << endl;
        }
    }

    void availibilityChecker() {
        if (available) {
            cout << "This car can be rented right now." << endl;
        } else {
            cout << "This car cannot be rented right now." << endl;
        }
    }

    void applyDiscount(int days) {
        if (days > 5 && days < 10) {
            double temp = rprice * 0.05;
            rprice -= temp;
            cout << "Your discounted price is: " << rprice << endl;
        } else if (days >= 10) {
            double temp = rprice * 0.1;
            rprice -= temp;
            cout << "Your discounted price is: " << rprice << endl;
        } else {
            cout << "Time period not eligible for a discount." << endl;
        }
    }

    void rentCar(int days) {
        if (this->available) {
            double total = this->rprice * days;
            this->revenue += total;
            this->available = false;
            cout << "Car rented for " << days << " days. Revenue updated: " << total << endl;
        } else {
            cout << "Car is not available for rent." << endl;
        }
    }

    void displayRevenue() {
        cout << "Total revenue generated by this car: " << this->revenue << endl;
    }
};

int main() {
    Car c1("ABC123", "Civic", "2012", 50000.0, true);
    c1.displayAllDetails();

    c1.rentCar(7);
    c1.displayRevenue();

    c1.rentCar(3);

    Car c2 = c1;
    cout << "\nCopied Car Details (Before modification of original):\n";
    c2.displayAllDetails();

    c1.updateDetails("City", "2013", 60000.0, true);
    cout << "\nOriginal Car Details (After modification):\n";
    c1.displayAllDetails();

    cout << "\nCopied Car Details (After modification of original):\n";
    c2.displayAllDetails();

    return 0;
}
